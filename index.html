<html>
    <title> Try GPT2</title>
<body>

    <h1> GPT2  ü§ó </h1>
<textarea rows='14' id="input_text" placeholder="Enter your text here...."></textarea>
<button class="get_values" onclick="startUpdate(event)">üòª COMPLETE SENTENCE ‚òπÔ∏è</button>

<textarea rows='14' id="result" placeholder="Wait for the result"></textarea>

<script>

function startUpdate(e) {
 
  updateTextArea();

}


 function updateTextArea() {

  let url = "https://ahsankh-gpt2.hf.space/+/api/predict/"; // url
  //client = Client("https://ahsankh-gpt2.hf.space/")
  
  var text = document.getElementById("input_text").value;
  //result = client.predict(
  //			text,	# str in 'Input Text' Textbox component
  //				api_name="/predict"
  //              )
  //console.log(text);
  
  fetch(url,  { method: "POST", body: JSON.stringify({"data": [text]

}), headers: { "Content-Type": "application/json" } })
    .then(response => response.json())
    .then(data => {
      let textArea = document.getElementById("result");
      // parsing the JSON value to string
      textArea.value = JSON.stringify(data);
    })
 
  textArea.value = text
  }

</script>

<p>  </p>


</body>
</html>
